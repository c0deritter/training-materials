\section{Tools, Commands, URLs}

\subsection{Devtool}

\begin{frame}
  \frametitle{Overview}
  \begin{itemize}
    \item \code{Devtool} is a set of utilities to ease the integration
    and the development of OpenEmbedded recipes.
    \item It can be used to:
      \begin{itemize}
        \item Generate a recipe for a given upstream application.
        \item Modify an existing recipe and its associated sources.
        \item Upgrade an existing recipe to use a newer upstream
          application.
      \end{itemize}
    \item \code{Devtool} adds a new layer, automatically managed, in
      \code{$BUILDDIR/workspace/}.
    \item It then adds or appends recipes to this layer so that the
      recipes point to a local path for their sources. In
      \code{$BUILDDIR/workspace/sources/}.
      \begin{itemize}
        \item Local sources are managed by \code{git}.
        \item All modifications made locally should be commited.
      \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{\code{devtool} usage 1/3}
  There are three ways of creating a new \code{devtool} project:
  \begin{itemize}
    \item To create a new recipe:
      \code{devtool add <recipe> <fetchuri>}
      \begin{itemize}
        \item Where \code{recipe} is the recipe's name.
        \item \code{fetchuri} can be a local path or a remote {\em
          uri}.
      \end{itemize}
    \item To modify an existing recipe: \code{devtool modify <recipe>}
    \item To upgrade a given recipe:
      \code{devtool upgrade -V <version> <recipe>}
      \begin{itemize}
        \item Where \code{version} is the new version of the upstream
          application.
      \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{\code{devtool} usage 2/3}
  Once a \code{devtool} project is started, commands can be issued:
  \begin{itemize}
    \item \code{devtool edit-recipe <recipe>}: edit \code{recipe} in a text
      editor (as defined by the \code{EDITOR} environment variable).
    \item \code{devtool build <recipe>}: build the given
      \code{recipe}.
    \item \code{devtool build-image <image>}: build \code{image} with
      the additional \code{devtool} recipes' packages.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{\code{devtool} usage 3/3}
  \begin{itemize}
    \item \code{devtool deploy-target <recipe> <target>}: upload the
      \code{recipe}'s packages on \code{target}, which is a live
      running target with an SSH server running (\code{user@address}).
    \item \code{devtool update-recipe <recipe>}: generate patches from
      git commits made locally.
    \item \code{devtool reset <recipe>}: remove \code{recipe} from the
      control of \code{devtool}. Standard layers and remote sources
      are used again as usual.
  \end{itemize}
\end{frame}


%\subsection{Commands}

\begin{frame}
\frametitle{Commands i find useful}
  \begin{itemize}
     \item List recipe dependencies
        \begin{itemize}
           \item Found it here: \url{https://community.nxp.com/docs/DOC-94953}
           \item \code{bitbake -g <package-name> && cat recipe-depends.dot | grep -v -e '-native' | grep -v digraph | grep -v -e '-image' | awk '{print $1}' | sort | uniq}
        \end{itemize}
     \item Debug the build environment \code{bitbake -e <package-name>}
     \item All about layers \code{bitbake-layers}
  \end{itemize}
\end{frame}


\subsection{URLs}

\begin{frame}
\frametitle{URLs}
  \begin{itemize}
     \item cheat sheet \url{https://github.com/shantanoo-desai/yoctoproject-cheatsheet}
     \item Tips and Tricks \url{https://wiki.yoctoproject.org/wiki/TipsAndTricks}
        \begin{itemize}
           \item devtool \url{https://wiki.yoctoproject.org/wiki/TipsAndTricks/Patching_the_source_for_a_recipe}
           \item diffsigs \url{https://wiki.yoctoproject.org/wiki/TipsAndTricks/Understanding_what_changed_(diffsigs_etc)}
        \end{itemize}
     \item Mega-Manual \url{https://www.yoctoproject.org/docs/current/mega-manual/mega-manual.html}
     \item List of available layers \url{https://layers.openembedded.org/layerindex/branch/master/layers/}
     \item Use IRC -> irc.freenode.net -> \#yocto
  \end{itemize}
\end{frame}

\begin{frame}
\frametitle{URLs addendum}
  \begin{itemize}
     \item probably interesting for your developer workflow the {\bf extensible SDK}
        \url{https://www.yoctoproject.org/docs/current/sdk-manual/sdk-manual.html\#sdk-extensible}
     \item install packages into your SDK \url{https://www.yoctoproject.org/docs/current/sdk-manual/sdk-manual.html\#sdk-installing-additional-items-into-the-extensible-sdk}
  \end{itemize}
\end{frame}


